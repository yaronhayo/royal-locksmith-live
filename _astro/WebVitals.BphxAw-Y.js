import{r as p}from"./index.BmW6Ki2V.js";const u={LCP:2500,FID:100,CLS:.1,FCP:1800,TTFB:800,INP:200};function w(e,t){const n=u[e];return"CLS"===e?t<=.1?"good":t<=.25?"needs-improvement":"poor":t<=n?"good":t<=2*n?"needs-improvement":"poor"}function m({debug:e=!1,onVitals:t}){return p.useEffect(()=>{if(typeof window>"u")return;const n=(n,r)=>{const o=w(n,r);if(e){const e="good"===o?"#0cce6b":"needs-improvement"===o?"#ffa400":"#ff4e42";console.log(`%c[Web Vitals] ${n}: ${"CLS"===n?r.toFixed(3):Math.round(r)}ms (${o})`,`color: ${e}; font-weight: bold;`)}t?.({name:n,value:r,rating:o}),typeof window<"u"&&window.dataLayer&&window.dataLayer.push({event:"web_vitals",web_vitals_name:n,web_vitals_value:r,web_vitals_rating:o})};(()=>{if("PerformanceObserver"in window)try{new PerformanceObserver(e=>{const t=e.getEntries(),r=t[t.length-1];r&&n("LCP",r.startTime)}).observe({type:"largest-contentful-paint",buffered:!0})}catch{}})(),(()=>{if("PerformanceObserver"in window)try{new PerformanceObserver(e=>{const t=e.getEntries().find(e=>"first-contentful-paint"===e.name);t&&n("FCP",t.startTime)}).observe({type:"paint",buffered:!0})}catch{}})(),(()=>{if("PerformanceObserver"in window)try{let e=0;new PerformanceObserver(t=>{for(const n of t.getEntries())n.hadRecentInput||(e+=n.value)}).observe({type:"layout-shift",buffered:!0}),document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&n("CLS",e)})}catch{}})(),(()=>{if("performance"in window){const e=performance.getEntriesByType("navigation")[0];e&&n("TTFB",e.responseStart-e.requestStart)}})(),(()=>{if("PerformanceObserver"in window)try{new PerformanceObserver(e=>{const t=e.getEntries()[0];t&&n("FID",t.processingStart-t.startTime)}).observe({type:"first-input",buffered:!0})}catch{}})()},[e,t]),null}export{m as WebVitals};