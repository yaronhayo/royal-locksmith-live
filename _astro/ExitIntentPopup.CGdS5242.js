import{j as e,c as j}from"./cn.zzlncTwb.js";import{r as n}from"./index.BmW6Ki2V.js";import{X as g,G as v,C as w}from"./x.C5eiaPZJ.js";import{P as y}from"./phone.CQWA39KD.js";import"./createLucideIcon.w0v_EZ4H.js";function I({delay:i=0,storageKey:o="exit-intent-shown",cooldownDays:u=7,phone:x="(201) 748-2070",phoneHref:h="+12017482070",bookingUrl:p="/book/",className:b}){const[a,l]=n.useState(!1),[d,c]=n.useState(!1);n.useEffect(()=>{const t=localStorage.getItem(o);if(t&&(Date.now()-parseInt(t))/864e5<u){c(!0);return}const r=f=>{d||f.clientY<10&&(l(!0),c(!0))};let m;return i>0&&(m=setTimeout(()=>{d||(l(!0),c(!0))},i)),document.addEventListener("mouseleave",r),()=>{document.removeEventListener("mouseleave",r),m&&clearTimeout(m)}},[i,o,u,d]);const s=()=>{l(!1),localStorage.setItem(o,Date.now().toString())};return n.useEffect(()=>{const t=r=>{r.key==="Escape"&&a&&s()};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[a]),a?e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in duration-300",onClick:s}),e.jsxs("div",{className:j("relative w-full max-w-md overflow-hidden rounded-3xl bg-card shadow-2xl animate-in zoom-in-95 slide-in-from-bottom-4 duration-300",b),children:[e.jsx("button",{onClick:s,className:"absolute right-4 top-4 z-10 flex h-8 w-8 items-center justify-center rounded-full bg-muted/80 text-muted-foreground transition-colors hover:bg-muted hover:text-foreground","aria-label":"Close popup",children:e.jsx(g,{className:"h-4 w-4"})}),e.jsxs("div",{className:"bg-gradient-to-br from-primary via-primary to-primary-600 px-6 py-8 text-center text-white",children:[e.jsx("div",{className:"mb-4 inline-flex h-16 w-16 items-center justify-center rounded-full bg-white/20",children:e.jsx(v,{className:"h-8 w-8"})}),e.jsx("h3",{className:"text-2xl font-bold",children:"Wait! Before You Go..."}),e.jsxs("p",{className:"mt-2 text-white/80",children:["Get a ",e.jsx("strong",{children:"FREE security assessment"})," for your home or business"]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("a",{href:`tel:${h}`,className:"flex w-full items-center justify-center gap-3 rounded-xl bg-primary px-6 py-4 font-semibold text-primary-foreground shadow-lg transition-all hover:bg-primary/90 hover:shadow-xl",children:[e.jsx(y,{className:"h-5 w-5"}),e.jsxs("span",{children:["Call Now: ",x]})]}),e.jsxs("a",{href:p,className:"flex w-full items-center justify-center gap-3 rounded-xl border border-border bg-muted/50 px-6 py-4 font-semibold transition-all hover:border-primary hover:bg-muted",children:[e.jsx(w,{className:"h-5 w-5"}),e.jsx("span",{children:"Schedule Service Online"})]})]}),e.jsxs("div",{className:"mt-6 flex items-center justify-center gap-4 text-center text-sm text-muted-foreground",children:[e.jsx("span",{children:"✓ Licensed & Insured"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"✓ No Obligation"})]}),e.jsx("button",{onClick:s,className:"mt-4 w-full text-center text-sm text-muted-foreground underline-offset-2 hover:text-foreground hover:underline",children:"No thanks, I'll figure it out myself"})]})]})]}):null}export{I as ExitIntentPopup};
